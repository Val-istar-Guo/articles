---
published: true
description: 我总结的一些实用的Shell脚本。
---

# 前端的 Shell 魔法笔记

## 关闭占用端口的程序

```shell
lsof -ti:8080 | xargs -n1 kill -9
```

## 读取 package.json 的数据

需要安装`jq`库解析 json 文件

> Github Action 中自带 jq 库，无需安装。

```shell
# debian
apt install jq
# mac
brew install jq
```

```shell
# 读取package.json中的name
cat package.json | jq -r '.name'

# 将package.json中的多个字段拼接成新的字符串 `${name}=${version}`
cat package.json | jq -r "'.name' + '=' + '.version'"
```

## 给 monorepo 添加 tag

```shell
echo $(pnpm -r exec cat package.json | jq -r '.name + "@" + .version') | xargs -n1 git tag
```

## 载入 dotenv 的环境变量

载入至环境变量

```shell
source .env
# OR
export $(cat .env | xargs)
```

输出至`GITHUB_OUTPUT`

```shell
cat .env | xargs -n1 echo >> $GITHUB_OUTPUT
```
